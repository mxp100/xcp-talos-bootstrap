# Talos worker machineconfig
version: v1alpha1
machine:
  type: worker
  token: "REPLACE_WITH_CLUSTER_TOKEN"
  install:
    image: factory.talos.dev/metal-installer/53b20d86399013eadfd44ee49804c1fef069bfdee3b43f3f3f5a2f57c03338ac:v1.11.3
    disk: /dev/xvda
    wipe: true
  time:
    servers:
      - pool.ntp.org
  # network: будет добавлен скриптом
cluster:
  id: "REPLACE_WITH_CLUSTER_ID"
  secret: "REPLACE_WITH_CLUSTER_SECRET"
  clusterName: "talos-xcp"
  controlPlane:
    endpoint: "https://192.168.10.2:6443"  # будет перезаписан скриптом при необходимости
  network:
    cni:
      name: none
    podSubnets:
      - 10.244.0.0/16
    serviceSubnets:
      - 10.96.0.0/12
  discovery:
    registries:
      kubernetes: {}
      service: {}
  inlineManifests: []